<header
  class="header-container"
>
  <!-- Progress Bar -->
  <mat-progress-bar
    *ngIf="busyService.isBusy$ | async"
    mode="indeterminate"
    class="progress-bar"
  >
  </mat-progress-bar>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-16 lg:h-20">
      <!-- Logo Section -->
      <img
        routerLink="/"
        src="assets/images/logo.svg"
        alt="Logo"
        class="h-6 lg:h-8"
      />

      <!-- Navigation -->
      <nav class="hidden lg:flex items-center space-x-8">
        <a
          routerLink="/"
          routerLinkActive="active"
          class="nav-link group"
          [routerLinkActiveOptions]="{ exact: true }"
        >
          <span class="nav-text">Home</span>
          <div class="nav-underline"></div>
        </a>
        <a routerLink="/shop" routerLinkActive="active" class="nav-link group">
          <span class="nav-text">Shop</span>
          <div class="nav-underline"></div>
        </a>
        <a routerLink="/about" routerLinkActive="active" class="nav-link group">
          <span class="nav-text">About</span>
          <div class="nav-underline"></div>
        </a>
      </nav>

      <!-- Actions -->
      <div class="flex items-center space-x-4">
        <!-- Cart -->
        <div class="relative">
          <button class="cart-button group">
            <div class="relative">
              <mat-icon class="text-2xl">shopping_bag</mat-icon>
              <span class="cart-badge">3</span>
            </div>
          </button>
        </div>

        <!-- Auth Buttons -->
        <div class="hidden sm:flex items-center space-x-3">
          <button class="btn-ghost">Accedi</button>
          <button class="btn-primary">Registrati</button>
          <button class="btn-ghost" (click)="testProgressBar()" title="Test Progress Bar">ðŸ§ª</button>
        </div>

        <!-- Mobile Menu -->
        <button class="mobile-menu-btn lg:hidden">
          <mat-icon>menu</mat-icon>
        </button>
      </div>
    </div>
  </div>

  <!-- Mobile Navigation Overlay (add this to the component logic) -->
  <div class="lg:hidden mobile-nav hidden">
    <div class="bg-white border-t border-gray-200 px-4 py-6 space-y-4">
      <!-- Mobile Navigation Links -->
      <div class="space-y-3">
        <a
          routerLink="/"
          class="block py-3 px-4 text-gray-700 hover:bg-gray-50 rounded-xl transition-colors duration-200"
          >Home</a
        >
        <a
          routerLink="/shop"
          class="block py-3 px-4 text-gray-700 hover:bg-gray-50 rounded-xl transition-colors duration-200"
          >Shop</a
        >
        <a
          routerLink="/about"
          class="block py-3 px-4 text-gray-700 hover:bg-gray-50 rounded-xl transition-colors duration-200"
          >About</a
        >
      </div>

      <!-- Mobile Auth Buttons -->
      <div class="flex flex-col space-y-3 pt-6 border-t border-gray-200">
        <button class="btn-ghost w-full">Accedi</button>
        <button class="btn-primary w-full">Registrati</button>
      </div>
    </div>
  </div>
</header>
